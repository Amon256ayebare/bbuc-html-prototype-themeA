<!doctype html>
<html lang="en"><head><meta charset="utf-8"><title>Register Admin</title><meta name="viewport" content="width=device-width,initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="assets/css/style.css">
<style>.center-card{max-width:520px;margin-top:6vh}</style>
</head><body class="d-flex align-items-center justify-content-center">
<div class="card center-card shadow-sm"><div class="card-body">
  <div class="text-center mb-3"><img src="assets/img/logo.png" class="logo" alt="BBUC"><h4 class="mt-2">Create Admin Account</h4></div>
  <div id="msg"></div>
  <form id="regForm">
    <div class="row g-2">
      <div class="col-md-6"><input id="u" class="form-control" placeholder="Username" required></div>
      <div class="col-md-6"><input id="email" class="form-control" placeholder="Email (optional)"></div>
      <div class="col-md-6 mt-2"><input id="p" type="password" class="form-control" placeholder="Password" required></div>
      <div class="col-md-6 mt-2"><input id="p2" type="password" class="form-control" placeholder="Confirm Password" required></div>
    </div>
    <div class="mt-3 d-grid"><button class="btn btn-primary">Create Account</button></div>
  </form>
  <div class="mt-3 small text-center"><a href="index.html">Back to Login</a></div>
</div>
<div class="card-footer text-center footer-note">Tip: Use a memorable password for the demo.</div>
</div>

<script>
document.getElementById('regForm').addEventListener('submit', (e)=>{
  e.preventDefault();
  const u = document.getElementById('u').value.trim();
  const email = document.getElementById('email').value.trim();
  const p = document.getElementById('p').value;
  const p2 = document.getElementById('p2').value;
  const msg = document.getElementById('msg'); msg.innerHTML='';
  if(p !== p2){ msg.innerHTML = '<div class="alert alert-danger small">Passwords do not match</div>'; return; }
  let admins = JSON.parse(localStorage.getItem('bbuc_admins')||'[]');
  if(admins.find(a=>a.username===u)){ msg.innerHTML = '<div class="alert alert-warning small">Username exists</div>'; return; }
  admins.push({username:u,password:p,email:email});
  localStorage.setItem('bbuc_admins', JSON.stringify(admins));
  msg.innerHTML = '<div class="alert alert-success small">Account created. Redirecting...</div>';
  setTimeout(()=>window.location.href='index.html',1100);
});
</script>
</body></html>
